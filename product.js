var productData = [
    {
        image:
            "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/SGSNYGLDICON.jpg",
        brand_name: "SG Sunny Gold Icon English Willow Cricket Bat",
        price: 12999,
        strick_price: 18499,
        off: "35% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/SGRPULTMT.jpg",
        brand_name: "SG RP Ultimate English Willow Cricket Bat",
        price: 18999,
        strick_price: 22499,
        off: "30% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/SGTRPLCRWNXTRM.jpg",
        brand_name: "SG Triple Crown Xtreme English Willow Cricket Bat",
        price: 22999,
        strick_price: 38499,
        off: "45% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/SSEWSTORM.jpg",
        brand_name: "SS Storm English Willow Cricket Bat",
        price: 34999,
        strick_price: 38499,
        off: "24% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/SGSNYTNYICON.jpg",
        brand_name: "SG Sunny Tonny Icon English Willow Cricket Bat",
        price: 24999,
        strick_price: 29499,
        off: "35% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/SSMAGNUMPRO.jpg",
        brand_name: "SS Magnum Pro English Willow Cricket Bat",
        price: 45999,
        strick_price: 47899,
        off: "5% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/YWCEW5000.jpg",
        brand_name: "YWC Yuvi 5000 English Willow Cricket Bat",
        price: 46589,
        strick_price: 48499,
        off: "14% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/PMEW05334501.jpg",
        brand_name: "Puma Evo Speed 4 English Willow Cricket Bat",
        price: 35999,
        strick_price: 49499,
        off: "35% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/DSCCEBCDPRO.jpg",
        brand_name: "DSC Condor Pro English Willow Cricket Bat",
        price: 39999,
        strick_price: 45499,
        off: "15% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/DSCCEBINPSN.jpg",
        brand_name: "DSC Intense Passion English Willow Cricket Bat",
        price: 31999,
        strick_price: 38499,
        off: "20% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/GMGCEB1428.jpg",
        brand_name: "GM Neon 303 English Willow Cricket Bat",
        price: 57899,
        strick_price: 67499,
        off: "35% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/ADAY1483.jpg",
        brand_name: "Adidas Pellara Leauge English Willow Cricket",
        price: 34999,
        strick_price: 76519,
        off: "55% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/DSCCEBINPSN.jpg",
        brand_name: "DSC Intense Passion English Willow Cricket Bat",
        price: 41999,
        strick_price: 78499,
        off: "50% Off",
    },
   
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/SGSNYTNYICON.jpg",
        brand_name: "SG Sunny Tonny Icon English Willow Cricket Bat",
        price: 64999,
        strick_price: 75499,
        off: "35% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/SSMAGNUMPRO.jpg",
        brand_name: "SS Magnum Pro English Willow Cricket Bat",
        price: 25999,
        strick_price: 47899,
        off: "5% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/YWCEW5000.jpg",
        brand_name: "YWC Yuvi 5000 English Willow Cricket Bat",
        price: 36589,
        strick_price: 48499,
        off: "14% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/PMEW05334501.jpg",
        brand_name: "Puma Evo Speed 4 English Willow Cricket Bat",
        price: 32999,
        strick_price: 49499,
        off: "35% Off",
    },
    {
        image: "https://storage.sg.content-cdn.io/cdn-cgi/image/width=500,height=500,quality=75,format=auto,fit=cover,g=top/in-resources/b368029c-a4dd-448a-a888-58348cb1b144/Images/ProductImages/Source/DSCCEBCDPRO.jpg",
        brand_name: "DSC Condor Pro English Willow Cricket Bat",
        price: 59999,
        strick_price: 75499,
        off: "15% Off",
    },
    
];

let cart= localStorage.getItem("cart");
if(!cart){
    cart=[];
    localStorage.setItem("cart",JSON.stringify(cart));
    refreshcartcount(cart)
    
}else{
    cart=JSON.parse(cart);
    refreshcartcount(cart)
   
}

function refreshcartcount(cart){
    let cartcount=document.getElementById("count");
    cartcount.textContent=cart.length;
}



DisplayData(productData);


function DisplayData(productData) {
    document.querySelector('#product_container').textContent = "";
    productData.forEach(function (elem) {
        
        var prod_container = document.querySelector("#product_container");
        
        let prodiv = document.createElement('div');
        prodiv.setAttribute("id", "prodiv");
        let imgdiv = document.createElement('div');
        imgdiv.setAttribute("id", "imgdiv");
        let datadiv = document.createElement('div');
        datadiv.setAttribute("id", "datadiv");

        
        let name=document.createElement("p");
        name.innerText = elem.brand_name;
        let namediv = document.createElement('div');
        namediv.setAttribute("id", "namediv");
        namediv.append(name)
        
        let img=document.createElement('img');
        img.src=elem.image;

        let price=document.createElement('p');
        price.textContent = `Rs.${elem.price}`;
        price.setAttribute("id","price")
        
        let str_price=document.createElement('strike');
        str_price.textContent = `Rs.${ elem.strick_price }`;
        
        let off =document.createElement('p');
        off.textContent = elem.off;
        off.setAttribute("id","off")
        let pricediv = document.createElement('div');
        pricediv.setAttribute("id", "pricediv");
        pricediv.append(str_price, price, off);

        let heartdiv = document.createElement('div');
        heartdiv.setAttribute("class", "overlay");
        let a = document.createElement('a');
        a.setAttribute("class", "icon");
        a.setAttribute("href", "#");
        let heart = document.createElement('i');
        heart.setAttribute("class", "fa fa-heart-o");
        a.append(heart);
        heartdiv.append(a);

        
        

        
        heart.onclick=function(event){
            addtocart(elem)
            
        };

        function addtocart(elem){
            let cart=JSON.parse(localStorage.getItem('cart'));
            cart.push(elem)
            localStorage.setItem('cart',JSON.stringify(cart));
            refreshcartcount(cart)
        }
    
        imgdiv.append(heartdiv,img);
        datadiv.append(namediv,pricediv);
        prodiv.append(imgdiv, datadiv);
        prod_container.append(prodiv);
    })

}

function handlepricesort() {
    var selected = document.querySelector("#sort").value;
  
    if (selected === "low") {
      productData.sort(function (a, b) {
        return (a.price) - (b.price);
      });
    }
    console.log(productData);
    if (selected === "high") {
      productData.sort(function (a, b) {
        return (b.price) - (a.price);
      });
    }
    localStorage.setItem("cart", JSON.stringify(productData));
    DisplayData(productData);
  }